/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package HumanResource.gui;

import App.Outlet;
import HumanResource.Identitas;
import HumanResource.User;
import Transaksi.gui.DataTransaksi;
import Util.BackgroundImage;
import Util.BackgroundPane;
import java.awt.BorderLayout;
import java.awt.event.KeyEvent;
import java.io.File;
import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;

/**
 *
 * @author Yestin
 */
public class DaftarUser extends javax.swing.JDialog {

    Identitas Id = new Identitas();
    User Usr = new User();
    Outlet Outlet = new Outlet();
    BackgroundImage BI = new BackgroundImage();
    /**
     * Creates new form DaftarUser
     */
    public DaftarUser(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        setTitle("Daftar User");
        Usr.getUser(tblUser);
        Outlet.getOutlet(cboOutlet);
        BI.BackgroundJPanel(this, pnlDaftarUser);
        ftxtKodeOutlet.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        bgPilihan = new javax.swing.ButtonGroup();
        pnlDaftarUser = new javax.swing.JPanel();
        scrlUser = new javax.swing.JScrollPane();
        tblUser = new javax.swing.JTable();
        rbNamaUser = new javax.swing.JRadioButton();
        rbOutlet = new javax.swing.JRadioButton();
        rbSemua = new javax.swing.JRadioButton();
        txtNamaUser = new javax.swing.JTextField();
        cboOutlet = new javax.swing.JComboBox<>();
        btnTutup = new javax.swing.JButton();
        ftxtKodeOutlet = new javax.swing.JFormattedTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        scrlUser.setViewportView(tblUser);

        bgPilihan.add(rbNamaUser);
        rbNamaUser.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        rbNamaUser.setForeground(new java.awt.Color(0, 0, 255));
        rbNamaUser.setText("Nama User :");
        rbNamaUser.setOpaque(false);
        rbNamaUser.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                rbNamaUserItemStateChanged(evt);
            }
        });

        bgPilihan.add(rbOutlet);
        rbOutlet.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        rbOutlet.setForeground(new java.awt.Color(0, 0, 255));
        rbOutlet.setText("Outlet :");
        rbOutlet.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                rbOutletItemStateChanged(evt);
            }
        });

        bgPilihan.add(rbSemua);
        rbSemua.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        rbSemua.setForeground(new java.awt.Color(0, 0, 255));
        rbSemua.setText("Semua");
        rbSemua.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                rbSemuaItemStateChanged(evt);
            }
        });

        txtNamaUser.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        txtNamaUser.setForeground(new java.awt.Color(0, 0, 255));
        txtNamaUser.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtNamaUserKeyPressed(evt);
            }
        });

        cboOutlet.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        cboOutlet.setForeground(new java.awt.Color(0, 0, 255));
        cboOutlet.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cboOutletItemStateChanged(evt);
            }
        });

        btnTutup.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Tutup.png"))); // NOI18N

        ftxtKodeOutlet.setEditable(false);
        ftxtKodeOutlet.setForeground(new java.awt.Color(0, 0, 255));
        ftxtKodeOutlet.setCaretColor(new java.awt.Color(0, 0, 255));
        ftxtKodeOutlet.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N

        javax.swing.GroupLayout pnlDaftarUserLayout = new javax.swing.GroupLayout(pnlDaftarUser);
        pnlDaftarUser.setLayout(pnlDaftarUserLayout);
        pnlDaftarUserLayout.setHorizontalGroup(
            pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlDaftarUserLayout.createSequentialGroup()
                .addComponent(scrlUser, javax.swing.GroupLayout.PREFERRED_SIZE, 1137, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(pnlDaftarUserLayout.createSequentialGroup()
                .addGap(88, 88, 88)
                .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(rbNamaUser)
                    .addComponent(rbOutlet)
                    .addComponent(rbSemua))
                .addGap(89, 89, 89)
                .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(txtNamaUser)
                        .addComponent(cboOutlet, 0, 442, Short.MAX_VALUE))
                    .addComponent(ftxtKodeOutlet, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlDaftarUserLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnTutup)
                .addGap(77, 77, 77))
        );
        pnlDaftarUserLayout.setVerticalGroup(
            pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlDaftarUserLayout.createSequentialGroup()
                .addGap(39, 39, 39)
                .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rbNamaUser)
                    .addComponent(txtNamaUser, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rbOutlet)
                    .addComponent(cboOutlet, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(pnlDaftarUserLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rbSemua)
                    .addComponent(ftxtKodeOutlet, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 48, Short.MAX_VALUE)
                .addComponent(scrlUser, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28)
                .addComponent(btnTutup)
                .addGap(34, 34, 34))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addComponent(pnlDaftarUser, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnlDaftarUser, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txtNamaUserKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtNamaUserKeyPressed
        // TODO add your handling code here:
        if(evt.getKeyCode()==KeyEvent.VK_A || evt.getKeyCode()==KeyEvent.VK_B || evt.getKeyCode()==KeyEvent.VK_C ||
            evt.getKeyCode()==KeyEvent.VK_D || evt.getKeyCode()==KeyEvent.VK_E || evt.getKeyCode()==KeyEvent.VK_F ||
            evt.getKeyCode()==KeyEvent.VK_G || evt.getKeyCode()==KeyEvent.VK_H || evt.getKeyCode()==KeyEvent.VK_I ||
            evt.getKeyCode()==KeyEvent.VK_J || evt.getKeyCode()==KeyEvent.VK_K || evt.getKeyCode()==KeyEvent.VK_L ||
            evt.getKeyCode()==KeyEvent.VK_M || evt.getKeyCode()==KeyEvent.VK_N || evt.getKeyCode()==KeyEvent.VK_O ||
            evt.getKeyCode()==KeyEvent.VK_P || evt.getKeyCode()==KeyEvent.VK_Q || evt.getKeyCode()==KeyEvent.VK_R ||
            evt.getKeyCode()==KeyEvent.VK_S || evt.getKeyCode()==KeyEvent.VK_T || evt.getKeyCode()==KeyEvent.VK_U ||
            evt.getKeyCode()==KeyEvent.VK_V || evt.getKeyCode()==KeyEvent.VK_W || evt.getKeyCode()==KeyEvent.VK_X ||
            evt.getKeyCode()==KeyEvent.VK_Y || evt.getKeyCode()==KeyEvent.VK_Z || evt.getKeyCode()==KeyEvent.VK_BACK_SPACE ||
            evt.getKeyCode()==KeyEvent.VK_SPACE || evt.getKeyCode()==KeyEvent.VK_0 || evt.getKeyCode()==KeyEvent.VK_1 ||
            evt.getKeyCode()==KeyEvent.VK_2 || evt.getKeyCode()==KeyEvent.VK_3 || evt.getKeyCode()==KeyEvent.VK_4 ||
            evt.getKeyCode()==KeyEvent.VK_5 || evt.getKeyCode()==KeyEvent.VK_6 || evt.getKeyCode()==KeyEvent.VK_7 ||
            evt.getKeyCode()==KeyEvent.VK_8 || evt.getKeyCode()==KeyEvent.VK_9){
            
            String NamaUser = (((String)txtNamaUser.getText().trim()).toString());
            Usr.getUser1(tblUser, NamaUser);
        }
    }//GEN-LAST:event_txtNamaUserKeyPressed

    private void cboOutletItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cboOutletItemStateChanged
        // TODO add your handling code here:
        String Outlet = (((String)cboOutlet.getSelectedItem()).toString());
        int Kode = Outlet.indexOf(' ');
        String KodeOutlet = Outlet.substring(0, Kode);
        int KodeCab = Integer.valueOf(KodeOutlet);
        ftxtKodeOutlet.setValue(Integer.valueOf(KodeCab));
        
        Usr.getUser2(tblUser, KodeCab);
    }//GEN-LAST:event_cboOutletItemStateChanged

    private void rbSemuaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_rbSemuaItemStateChanged
        // TODO add your handling code here:
        txtNamaUser.setEnabled(false);
        cboOutlet.setEnabled(true);
        
        Usr.getUser(tblUser);
    }//GEN-LAST:event_rbSemuaItemStateChanged

    private void rbNamaUserItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_rbNamaUserItemStateChanged
        // TODO add your handling code here:
        txtNamaUser.setEnabled(true);
        cboOutlet.setEnabled(false);
    }//GEN-LAST:event_rbNamaUserItemStateChanged

    private void rbOutletItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_rbOutletItemStateChanged
        // TODO add your handling code here:
        txtNamaUser.setEnabled(false);
        cboOutlet.setEnabled(true);
    }//GEN-LAST:event_rbOutletItemStateChanged

    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup bgPilihan;
    private javax.swing.JButton btnTutup;
    private javax.swing.JComboBox<String> cboOutlet;
    private javax.swing.JFormattedTextField ftxtKodeOutlet;
    private javax.swing.JPanel pnlDaftarUser;
    private javax.swing.JRadioButton rbNamaUser;
    private javax.swing.JRadioButton rbOutlet;
    private javax.swing.JRadioButton rbSemua;
    private javax.swing.JScrollPane scrlUser;
    private javax.swing.JTable tblUser;
    private javax.swing.JTextField txtNamaUser;
    // End of variables declaration//GEN-END:variables
}
